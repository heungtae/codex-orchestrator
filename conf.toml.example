[telegram]
# Place this file at: ~/.codex-orchestrator/conf.toml
# Allow only these Telegram `from_user.id` values (int or string).
# Omit/comment this key to disable user allowlist.
# Example: allowed_users = [123456789, "987654321"]
allowed_users = [123456789]

[telegram.polling]
poll_timeout = 30
loop_sleep_sec = 1
delete_webhook_on_start = true
drop_pending_updates = false
ignore_pending_updates_on_start = true
require_mcp_warmup = true
cancel_wait_timeout_sec = 5

[codex]
mcp_command = "npx"
mcp_args = "-y codex mcp-server"
mcp_client_timeout_seconds = 360000
allow_echo_executor = false
approval_policy = "never"
sandbox = "danger-full-access"
mcp_direct_status = true
mcp_auto_detect_process = false

[profile]
# Default execution profile name.
default = "default"

[profiles.default]
model = "gpt-5"
working_directory = "~/develop/your-project"

[profiles.bridge]
model = "gpt-5"
working_directory = "~/develop/bridge-project"

# Global agent overrides (applies to all profiles unless overridden).
# If both system_prompt and system_prompt_file are set, system_prompt_file takes precedence.

# single mode: direct developer execution (no planner/reviewer stage)
# [agents.single.developer]
# model = "gpt-5-codex"
# system_prompt = "You are Single Developer Agent..."
# system_prompt_file = "./prompts/developer.txt"

# plan mode: selector -> planner -> developer -> reviewer composition
# [agents.plan.selector]
# model = "gpt-5"
# system_prompt = "You are Plan Selector Agent..."
# system_prompt_file = "./prompts/plan-selector.txt"

# [agents.plan.planner]
# model = "gpt-5"
# system_prompt = "You are Plan Planner Agent..."
# system_prompt_file = "./prompts/plan-planner.txt"

# [agents.plan.developer]
# model = "gpt-5-codex"
# system_prompt = "You are Plan Developer Agent..."
# system_prompt_file = "./prompts/plan-developer.txt"

# [agents.plan.reviewer]
# model = "gpt-5"
# system_prompt = "You are Plan Reviewer Agent..."
# system_prompt_file = "./prompts/plan-reviewer.txt"

# Compatibility:
# plan mode falls back to agents.single.planner/developer/reviewer when agents.plan.* is missing.
